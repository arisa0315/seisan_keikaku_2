<h1>新規登録</h1>
<div class="container">
  <div class="form-box">
    <%= form_with model: @registration, local: true do |form| %>
      <div class="form-group">
        <%= form.label :name, "登録名" %>
        <%= form.text_field :name, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= form.label :cycle_time, "C.T" %>
        <div class="input-with-unit">
          <!-- number_fieldをtext_fieldに変更し、パターンで数値のみを受け付けるように指定 -->
          <%= form.text_field :cycle_time, class: "form-control", pattern: "[0-9]*", inputmode: "numeric" %>
          <span class="unit">秒</span>
        </div>
      </div>
      <div class="form-group">
        <%= form.label :output_rate, "出来高" %>
        <div class="input-with-unit">
          <!-- number_fieldをtext_fieldに変更 -->
          <%= form.text_field :output_rate, class: "form-control", pattern: "[0-9]*", inputmode: "numeric" %>
          <span class="unit">%</span>
        </div>
      </div>
      <div class="registration-button-group">
        <%= form.submit "登録する", class: "btn-primary" %>
        <%= link_to '戻る', root_path, class: "btn-secondary" %>
      </div>
    <% end %>
  </div>

  <div class="table-wrapper">
    <h2>登録名一覧</h2>
    <table class="table-box">
      <thead>
        <tr>
          <th>登録名</th>
          <th>C.T</th>
          <th>出来高</th>
        </tr>
      </thead>
      <tbody>
        <% if @registrations.present? %>
          <% @registrations.each do |registration| %>
            <tr>
              <td><%= registration.name %></td>
              <td><%= registration.cycle_time %></td>
              <td><%= registration.output_rate %></td>
            </tr>
          <% end %>
        <% else %>
          <tr>
            <td colspan="3">まだ登録がありません。</td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
